{"version":3,"sources":["styles/common.js","components/Table/index.js","pages/ProductList.js","services/validators.js","components/Form/index.js","pages/priceRange.js","pages/ProductForm.js","App.js","store/reducers/objectsReducer.js","store/reducers/index.js","store/sagas/editObjectSaga.js","store/actions/index.js","store/sagas/createObjectSaga.js","store/sagas/rootSaga.js","index.js"],"names":["shadow","shadowColor","shadowOffset","width","height","shadowOpacity","flexCenter","justifyContent","flexWrap","flexBetween","display","textCenter","textAlign","cursorPointer","cursor","button","borderRadius","padding","border","color","fontWeight","secondary","background","container","marginRight","marginLeft","maxWidth","field","boxShadow","Table","props","heads","schema","show","map","property","replace","a","toUpperCase","rows","data","obj","renderCols","properties","rowIndex","index","key","actions","showEdit","class","onClick","onEdit","length","history","useHistory","title","style","common","push","headTitle","objects","currObject","renderRows","connect","state","products","ProductsTableSchema","is_editable","_id","validators","validatorsFunctions","required","value","undefined","String","isChecked","minlength","minAllowedLength","maxlength","maxAllowedLength","number","isNaN","Number","positive","email","test","username","url","equal","sectionEl","inputControls","getElementsByTagName","areEqual","i","getValidator","validatorName","specifications","errorMsgs","Form","useState","isSaving","toggleSaving","errors","updateErrors","values","setValues","handleFieldChange","event","fieldEl","target","fieldName","name","fieldSpec","fields","onChange","fieldValue","type","checked","fieldContainerEL","parentElement","errorIndex","indexOf","invalidInfo","getInvalidInfo","errorText","customErrMsg","label","specs","classList","add","remove","splice","useEffect","sections","forEach","section","fieldNames","renderfields","fieldElement","Fragment","placeholder","options","selectOption","radioOption","id","for","clean","goBack","fieldValidationRules","some","validatorInfo","disabled","onSaveClicked","setTimeout","priceRange","premium","budget","dispatch","onCreate","productFormSchema","setProductFormSchema","defaultValue","price_tier","price_range","currProductId","location","search","match","filter","object","onInit","productData","path","component","ProductForm","exact","ProductList","initialState","objectsReducer","action","newState","newId","objectIndex","findIndex","editObjectAsync","delay","put","createObjectAsync","rootSaga","all","takeEvery","sagaMiddleware","createSagaMiddleware","store","createStore","reducer","applyMiddleware","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eff94e33.chunk.js","sourcesContent":["export default {\n  shadow: {\n    shadowColor: '#000000',\n    shadowOffset: {width: 1, height: 1},\n    shadowOpacity: 0.06,\n  },\n  flexCenter: {justifyContent: 'center', flexWrap: 'wrap'},\n  flexBetween: {display: 'flex', justifyContent: 'space-between'},\n  textCenter: {\n    textAlign: 'center',\n  },\n  cursorPointer: {\n    cursor: 'pointer',\n  },\n  button: {\n    borderRadius: '25px',\n    padding: '12px',\n    border: 'none',\n    color: 'white',\n    fontWeight: 'bold',\n  },\n  secondary: {\n    background: '#aaa',\n  },\n  container: {\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    maxWidth: '75%',\n  },\n  field: {\n    boxShadow: '0 1px 1px 0 #D9DFE4',\n    border: 'none',\n    height: '40px',\n  },\n};\n\n","import React from 'react';\n\nimport \"./index.css\";\nimport common from '../../styles/common';\nimport { useHistory } from 'react-router-dom';\n\nexport default function Table (props) {\n\n    const heads = props.schema.show.map(property => property.replace('_', ' ').replace(/(?:^|\\s)\\S/g, a => a.toUpperCase()));\n    const rows = props.data.map(obj => props.schema.show.map(property => obj[property]));\n\n    const renderHeads = objects => objects.map((headTitle, index) =>\n            <th key={index}>{headTitle}</th>\n    )\n\n    const renderRows = (objects) => objects.map((currObject, index) =>\n            <tr key={index}>{renderCols(currObject, index)}</tr>\n    );\n\n    const renderCols = (properties, rowIndex) => [...properties.map((property, index) =>\n          <td key={index}>{property}</td>\n    ),       \n    props.schema.actions.showEdit(props.data[rowIndex])?\n    <td class=\"edit-row\"  onClick={() => props.schema.actions.onEdit(props.data[rowIndex])} key={properties.length}>\n        Edit\n    </td> : <td></td>\n    ];\n\n    const history = useHistory();\n    const onCreateClicked = () => {\n      history.push(`/create`);\n    }\n\n    return (\n      <div>\n        <h2>{props.schema.title}</h2>\n        <div style={common.flexBetween}>\n        {/* Search functionality (To be finalized)\n        <div> \n            <label for=\"search\"><i class=\"icon-search\"></i></label>\n            <input style={common.field} type=\"search\" data-table=\"simple-table\" placeholder=\"Search...\"/>\n          </div> \n        */}\n          <button onClick={onCreateClicked} class=\"save-button\" style={{...common.cursorPointer, ...common.button}}>\n            Create\n            </button>\n        </div>\n        <table class=\"simple-table\">\n          <thead>        \n              {renderHeads(heads)}\n                <th></th>\n              </thead>\n              <tbody>\n              {renderRows(rows)}\n              </tbody>\n            </table>\n      </div>\n    );\n}","import React from 'react';\nimport {connect} from 'react-redux';\nimport {useHistory} from 'react-router-dom';\n\nimport Table from '../components/Table';\nimport common from '../styles/common';\n\n/**\n * The parent component job is to pass the following to the general table:\n * 1- The data (list of objects)\n * 2- The schema, describing specifications for any customization needed such as what columns\n * to hide and the title for the head...etc.\n */\nfunction ProductList(props) {\n  const history = useHistory();\n  const ProductsTableSchema = {\n    title: 'PRODUCTS',\n    show: ['product_name', 'weight', 'availability'],\n    actions: {\n      showEdit: (obj) => obj.is_editable,\n      onEdit: (obj) => {\n        history.push(`/edit?id=${obj._id}`);\n      },\n    },\n  };\n  return (\n    <div style={common.container}>\n      <Table data={props.products} schema={ProductsTableSchema} ></Table>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    products: state.objects,\n  };\n};\n\nexport default connect(\n    mapStateToProps,\n    null,\n)(ProductList);\n","/**\n * @author Nermeen Mattar\n * Validator module will contain all the custom validators needed in forms.\n * New validation rule will be added to this file to be available to any field.\n */\nexport const validators = (function() {\n  /* The list of all validator messages */\n  const errorMsgs = {\n    number: 'should be a valid number',\n    positive: 'should be a positive number ',\n    required: 'is Required',\n    email: 'should be a valid a email address',\n    username: 'should only contain letters, digits, hyphens and underscores',\n    url: 'should be a valid url',\n    minlength: 'should have a minimum of $$ characters ',\n    maxlength: 'should have a maximum length of $$',\n  };\n\n  /**\n     * An object where the key is the validator name and the value is the\n     * validator function. A validator function does certain checks on each\n     * change in the attached input.\n     */\n  const validatorsFunctions = {\n    required: (value) => {\n      return value !== undefined && value !== null && String(value).length > 0;\n    },\n    isChecked: (value) => {\n      return value;\n    },\n    minlength: (value, minAllowedLength) => {\n      return value === '' || String(value).length > minAllowedLength;\n    },\n    maxlength: (value, maxAllowedLength) => {\n      return value === '' || String(value).length < maxAllowedLength;\n    },\n    number: (value) => {\n      return value === '' || !isNaN(Number(value)) ? true : false;\n      // true mean there is an error\n    },\n    positive: (value) => {\n      return value === '' || Number(value) >= 0 ? true : false;\n      // true mean there is an error\n    },\n    email: (value) => {\n      const emailRegExp = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return value === '' || emailRegExp.test(value);\n    },\n    username: (value) => {\n      const usernameRegExp = /^[A-Za-z0-9]+(?:[_-][A-Za-z0-9]+)*$/;\n      return value === '' || usernameRegExp.test(value);\n    },\n    url: (value) => {\n      const usernameRegExp = /[-a-zA-Z0-9@:%._~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_.~#?&//=]*)/;\n      return value === '' || usernameRegExp.test(value);\n    },\n    equal: (sectionEl) => { // section validator\n      const inputControls = sectionEl.getElementsByTagName('input');\n      const value = inputControls[0].value;\n      let areEqual = true;\n      for (let i = 1; i < inputControls.length; i++) {\n        if (inputControls[i].value !== value) {\n          areEqual = false;\n          break;\n        }\n      }\n      return areEqual;\n    },\n  };\n\n  function getValidator(validatorName, specifications) {\n    return validatorsFunctions[validatorName];\n  }\n\n\n  return {\n    getValidator: getValidator,\n    errorMsgs: errorMsgs,\n  };\n})();\n","import React, {useState, useEffect} from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport \"./index.css\";\nimport common from '../../styles/common';\nimport { validators } from '../../services/validators'\n\nexport default function Form(props) {\n    const [isSaving, toggleSaving] = useState(false);\n    const [errors, updateErrors] = useState([]);\n    const [values, setValues] = useState(props.values || {})\n\n    const handleFieldChange = (event) => {\n        const fieldEl = event.target;\n        const fieldName = fieldEl.name;\n        const fieldSpec = props.schema.fields[fieldName];\n        fieldSpec.onChange && fieldSpec.onChange(fieldEl);\n        const fieldValue = fieldEl.type === \"checkbox\" ? fieldEl.checked : fieldEl.value;\n        const fieldContainerEL = fieldEl.parentElement;\n        const errorIndex = errors.indexOf(fieldName);\n        const invalidInfo = fieldSpec.validators && getInvalidInfo(fieldValue, fieldSpec.validators);\n        if (invalidInfo) {\n            fieldSpec.errorText = invalidInfo.customErrMsg ? invalidInfo.customErrMsg : fieldSpec.label + ' ' + validators.errorMsgs[invalidInfo.name].replace('$$', invalidInfo.specs);\n            fieldContainerEL.classList.add(\"error\");\n            errorIndex === -1 && errors.push(fieldName);\n            updateErrors(errors);\n        } else {\n            fieldSpec.errorText = ''; // clear error div from previous errors.\n            fieldContainerEL.classList.remove(\"error\");\n            errorIndex !== -1 && errors.splice(errorIndex, 1);\n            updateErrors(errors);\n        }\n        fieldContainerEL.classList.remove(\"clean\");\n        setValues({...values, [fieldName]: fieldValue});\n    }\n\n    const checkIfHasErrors = () => {\n        // if(props.values._id) return; /* uncomment this line if you gurantee that on edit all values will be valid*/\n        props.schema.sections.forEach(section => {      \n            section.fieldNames.forEach(fieldName=> {\n                const fieldSpec =  props.schema.fields[fieldName];\n                const invalid = fieldSpec.validators && getInvalidInfo(values[fieldName], fieldSpec.validators);\n                invalid && errors.push(fieldName) && updateErrors([...errors]);\n            });\n        });\n    }\n\n    useEffect(checkIfHasErrors, []); // empty array to run an effect and clean it up only once\n\n    const renderSections = sections => \n        sections.map((section, index) => <div class=\"section\" key={index}>\n            <h3> {section.title} </h3>\n            {renderfields(section.fieldNames)}\n        </div>);\n\n    const renderfields = fields => fields.map((fieldName, index) => {\n        const fieldSpec = props.schema.fields[fieldName];\n        let fieldElement;\n        switch(fieldSpec.type) {            \n            case 'dropdown':\n                fieldElement = \n                <React.Fragment> \n                    <label>{fieldSpec.label}</label>\n                         <select name={fieldName} style={common.field} onChange={handleFieldChange} value={values[fieldName]} placeholder=\"Select an option\">\n                          {fieldSpec.options.map(selectOption => <option value={selectOption}>{selectOption}</option>)}\n                        </select>\n                    </React.Fragment>\n                break;\n            case 'checkbox':\n                fieldElement = \n                <React.Fragment>\n                    <input name={fieldName} type={fieldSpec.type} onChange={handleFieldChange} checked={values[fieldName]} />\n                    <label> {fieldSpec.label} </label>\n                </React.Fragment>\n                break;\n\n            case 'radio':\n                fieldElement = <React.Fragment>\n                         {fieldSpec.options.map(radioOption => <div>\n                            <input id={radioOption} name={fieldName} type={fieldSpec.type} onChange={handleFieldChange} value={radioOption} checked={values[fieldName] === radioOption}/>\n                            <label for={radioOption}>{radioOption}</label>\n                        </div>)}\n                    </React.Fragment>\n                 break;\n            default:\n                fieldElement = \n                <React.Fragment>\n                    <label> {fieldSpec.label} </label>\n                    <input name={fieldName} clean style={common.field} key={index} type={fieldSpec.type} onChange={handleFieldChange} value={values[fieldName] || \"\"}/>\n                </React.Fragment>\n        }\n        return <div class=\"field\" >\n            {fieldElement}\n            {fieldSpec.validators && <div class=\"error-msg\"> { fieldSpec.errorText } </div> }\n        </div>\n    });\n\n    const goBack = useHistory().goBack;\n    const onSaveClicked = () => {\n        props.onSaveClicked(values);\n        toggleSaving(true);\n        setTimeout(goBack, 2000); // to simulate request to API\n    }\n\n    const getInvalidInfo = (value, fieldValidationRules) => {\n        let invalidInfo;\n        const invalid = fieldValidationRules.some(validatorInfo => {\n            invalidInfo = validatorInfo;\n            return !validators.getValidator(validatorInfo.name)(value, validatorInfo.specs);\n        });\n        return invalid && invalidInfo;\n    }\n\n    /* Currently not used, uncomment it when you need it\n    const isRequiredField = (fieldSpec) => {\n        return fieldSpec.validators && fieldSpec.validators.some(fieldValidator =>  fieldValidator.name === 'required');\n    }*/\n\n    return (\n       <div style={common.container}>\n        <h2>{props.schema.title}</h2>\n         <div style={common.flexBetween}>\n        <button onClick={goBack} style={{...common.cursorPointer, ...common.button, ...common.secondary}} >\n          Cancel\n          </button>\n          <button disabled= {errors.length} onClick={onSaveClicked} class=\"save-button\" style={{...common.cursorPointer, ...common.button}}>\n            {isSaving ? 'Saving...' : 'Save'}\n          </button>\n          </div>\n         {renderSections(props.schema.sections)}\n       </div>\n       );\n}\n","export const priceRange = {\n    premium: [\n        '$50-99',\n        '$100-199',\n        '$200+',\n      ],\n    budget: [\n        '$1-10',\n        '$11-20',\n        '$20-50',\n      ]\n}","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\n\nimport Form from '../components/Form';\nimport common from '../styles/common';\nimport { priceRange } from './priceRange';\n\n/**\n * The parent component job is to pass the following to the general table:\n * - data (the object)\n * - schema describing fields' behaviors and what fields/sections to show...etc.\n */\nfunction ProductForm(props) {\n  const title = 'PRODUCT FORM';\n\n  const sections = [{\n    'title': 'Basic',\n    'fieldNames': ['product_name', 'weight', 'url', 'availability'],\n  }, {\n    'title': 'Pricing',\n    'fieldNames': ['price_tier', 'price_range', 'is_editable'],\n    'validators': [{\n      'name': 'equal',\n      'customErrMsg': 'Password and Confirm password should be equal.',\n    }],\n  }];\n\n  const fields = {\n    'product_name': {\n      'type': 'text',\n      'label': 'Name',\n      'validators': [{\n        'name': 'required',\n      }],\n    },\n    'weight': {\n      'type': 'text',\n      'label': 'Weight',\n      'validators': [{\n        'name': 'required',\n      }],\n    },\n    'url': {\n      'type': 'text',\n      'label': 'Product url',\n      'validators': [{\n        'name': 'required',\n      }, {\n        'name': 'url',\n      }],\n    },\n    'availability': {\n      'type': 'number',\n      'label': 'Availability',\n      'validators': [\n        {\n          'name': 'required',\n        },\n        {\n        'name': 'positive',\n      }, {\n        'name': 'maxlength',\n        'specs': 4,\n      }],\n    },\n    'price_tier': {\n      'type': 'radio',\n      'label': 'Price Tier',\n      'validators': [{\n        'name': 'required',\n      }],\n      'options': [\n        'budget',\n        'premium',\n      ],\n    },\n    'price_range': {\n      'type': 'dropdown',\n      'label': 'Price Range',\n      'validators': [{\n        'name': 'required',\n      }],\n      'options': [],\n    },\n    'is_editable': {\n      'type': 'checkbox',\n        'validators': [{\n          'name': 'isChecked',\n          'customErrMsg': 'Product should be editable'\n      }],\n      'label': 'Is Editable',\n    },\n  };\n\n  const [productFormSchema, setProductFormSchema] = useState({\n    sections,\n    fields,\n    title\n  });\n\n  const defaultValue = {\n    price_tier: 'budget',\n    is_editable: 'true',\n    price_range: priceRange.budget[0]\n  }\n\n  let values = defaultValue;\n\n  /* defaultValue as a preventive check in case product has been deleted */\n  let currProductId = props.location.search.match(/[1-9]+/g); // in case of edit\n  if(currProductId) {\n    values = props.objects.filter((object) => object._id === Number(currProductId[0]))[0] || defaultValue; \n  }\n\n  fields.price_range.options = priceRange[values.price_tier];\n  fields.price_tier.onChange = (fieldEl) => {\n    fields.price_range.options = priceRange[fieldEl.value];\n    setProductFormSchema({...productFormSchema});\n  };\n\n  const onSaveClicked = (data) => {\n    currProductId ? props.onEdit(data) : props.onCreate(data);\n  };\n\n  return (\n    <div style={common.container}>\n      <Form values={values} data={props.objects} schema={productFormSchema} onSaveClicked={onSaveClicked} ></Form>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    objects: state.objects,\n  };\n};\n\nconst mapDispachToProps = (dispatch) => {\n  return {\n    onCreate: (data) => dispatch({type: 'CREATE_OBJECT', value: data}),\n    onEdit: (data) => dispatch({type: 'EDIT_OBJECT', value: data}),\n  };\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispachToProps,\n)(ProductForm);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport productData from \"./constants/productData.json\";\n\nimport \"./App.css\";\nimport ProductList from \"./pages/ProductList\";\nimport ProductForm from \"./pages/ProductForm\";\n\nfunction App (props) {\n  props.onInit(productData);\n  return (\n      <HashRouter>\n         <header class=\"header\">\n         <div id=\"logo\"></div>\n          <h1>\n            Table and Form Builder\n          </h1>\n        </header>\n      <div class=\"body\"> \n        <Route path='/create' component={ProductForm}/>\n        <Route path='/edit' component={ProductForm}/>\n        <Route exact path='/' component={ProductList}/>\n      </div>\n      </HashRouter>\n    );\n}\n\nconst mapStateToProps = state => {\n  return {\n    objects: state.objects,\n    rows: state.rows\n  };\n};\n\nconst mapDispachToProps = dispatch => {\n  return {\n    onInit: () => dispatch({ type: \"INIT_OBJECTS\", value: productData }),\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispachToProps\n)(App);\n","const initialState = {\n  objects: []\n};\n\nconst objectsReducer = (state = initialState, action) => {\n  const newState = { ...state };\n    switch (action.type) {\n    case \"INIT_OBJECTS\":\n      newState.objects = action.value;\n      break;\n    case \"CREATE_OBJECT_ASYNC\":\n      const newId = state.objects[state.objects.length - 1]._id + 1;\n      newState.objects.push({...action.value, _id: newId});\n      break;\n    case \"EDIT_OBJECT_ASYNC\":\n      const objectIndex = newState.objects.findIndex(object => object._id === action.value._id);\n      newState.objects[objectIndex] = action.value; // add a preventive check if objectIndex -1\n      break;\n    default: \n      return newState;\n  }\n  return newState;\n};\n\nexport default objectsReducer;\n","import objectsReducer from \"./objectsReducer\";\n\nexport default objectsReducer","import { delay, put } from 'redux-saga/effects';\nimport { editObjectAction } from '../actions';\n\nexport function* editObjectAsync(data) { // worker\n    yield delay(2000); // to be replaced with backend call  \n    yield put(editObjectAction(data.value));\n}\n","export const createObjectAction = value => ({\n  type: 'CREATE_OBJECT_ASYNC',\n  value\n});\n\nexport const editObjectAction = value => ({\n  type: 'EDIT_OBJECT_ASYNC',\n  value\n});","import { delay, put } from 'redux-saga/effects';\nimport { createObjectAction } from '../actions';\n\nexport function* createObjectAsync(data) { // worker\n    yield delay(2000); // to be replaced with backend call   \n    yield put(createObjectAction(data.value));\n}\n","import { all, takeEvery } from 'redux-saga/effects';\nimport { editObjectAsync } from './editObjectSaga';\nimport { createObjectAsync } from './createObjectSaga';\n\n/* responsible of the side effects and since it is a redux middleware it can handle/dispatch redux functions*/\nexport function *rootSaga() {\n  // list of watchers\n  yield all([\n    takeEvery(\"EDIT_OBJECT\", editObjectAsync),\n    takeEvery(\"CREATE_OBJECT\", createObjectAsync)\n  ]);\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport reducer from \"./store/reducers\";\nimport { rootSaga } from \"./store/sagas/rootSaga\";\n\nconst sagaMiddleware = createSagaMiddleware(); // a factory that creates an instance of the middleware\n\nconst store = createStore(reducer, applyMiddleware(sagaMiddleware));\n\nsagaMiddleware.run(rootSaga); // redux saga is a middleware used in reactjs and is leveraging an ES6 feature called Generators\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}